{# src/_includes/_macros.njk #}

{% macro post_card(post) %}
<div class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform duration-300 hover:scale-[1.03]" data-animate>
    
    {# 1. GAMBAR #}
    <a href="{{ post.url | url }}" aria-label="Lihat detail {{ post.data.title }}">
        <img src="{{ ('/static/uploads/' + post.data.image_filename) | url }}" 
             alt="{{ post.data.title }}" 
             class="w-full h-48 object-cover">
    </a>
    
    <div class="p-5">
        {# 2. TITLE #}
        <h3 class="text-xl font-bold text-slate-800 mb-2 truncate">
            <a href="{{ post.url | url }}" class="hover:text-teal-600">{{ post.data.title }}</a>
        </h3>

        {# 3. RINGKASAN (dari config.yml) #}
        {% if post.data.ringkasan %}
        <p class="text-slate-600 text-sm mb-4 h-20 overflow-hidden line-clamp-3">
            {{ post.data.ringkasan }}
        </p>
        {% endif %}

        {# 4. TOMBOL-TOMBOL #}
        <div class="flex flex-wrap gap-2">
            
            {# 4a. TOMBOL DETAIL #}
            <a href="{{ post.url | url }}" 
               class="inline-block bg-teal-500 hover:bg-teal-600 text-white text-sm font-medium py-2 px-4 rounded-md transition-colors">
                Lihat Detail
            </a>
            
            {# 4b. TOMBOL DEMO LIVE (Hanya jika ada url_demo di front matter) #}
            {% if post.data.url_demo %}
            <a href="{{ post.data.url_demo }}" 
               target="_blank" rel="noopener noreferrer"
               class="inline-block bg-gray-700 hover:bg-gray-800 text-white text-sm font-medium py-2 px-4 rounded-md transition-colors">
                Demo Live
            </a>
            {% endif %}
        </div>
    </div>
</div>
{% endmacro %}